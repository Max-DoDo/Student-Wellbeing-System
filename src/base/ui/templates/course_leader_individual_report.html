{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
<h2 class="fw-bold">{{ student.first_name }} {{ student.last_name }}</h2>
<p class="text-muted">Individual Performance Report</p>
<hr>
<!-- EARLY WARNINGS -->

    {% if alerts %}
<div class="alert alert-danger shadow-sm">
<strong>Early Warnings:</strong><br>

        {% for a in alerts %}

            âš  {{ a }} <br>

        {% endfor %}
</div>

    {% endif %}
<!-- SUMMARY CARDS -->
<div class="row mb-4">
<div class="col-md-6">
<div class="card dashboard-card shadow-sm p-3 text-center">
<h6>Average Attendance</h6>
<h2 class="text-primary">{{ avg_attendance }}%</h2>
</div>
</div>
<div class="col-md-6">
<div class="card dashboard-card shadow-sm p-3 text-center">
<h6>Average Grade</h6>
<h2 class="text-success">{{ avg_grade }}</h2>
</div>
</div>
</div>
<!-- SIDE-BY-SIDE GRAPHS -->
<div class="row">
<div class="col-md-6">
<div class="card shadow-sm p-3 mb-4">
<h5 class="mb-3">ğŸ“˜ Assignment Grade Performance</h5>

                {{ grade_chart|safe }}
</div>
</div>
<div class="col-md-6">
<div class="card shadow-sm p-3 mb-4">
<h5 class="mb-3">ğŸ“Š Attendance Trend</h5>

                {{ attendance_chart|safe }}
</div>
</div>
</div>
<!-- SUBMISSION PIE -->
<div class="card shadow-sm p-3 mb-4">
<h5 class="mb-3">â± Submission Timeliness</h5>

        {{ submission_pie|safe }}
</div>
<!-- WEEKLY SUMMARY TABLE -->
<div class="card shadow-sm p-4">
<h4 class="mb-3">ğŸ“… Weekly Attendance Summary</h4>
<table class="table modern-table">
<thead>
<tr>
<th>Week</th>
<th>Attendance</th>
</tr>
</thead>
<tbody>

                {% for w in weekly_summary %}
<tr>
<td>{{ w.week }}</td>
<td>{{ w.attendance }}%</td>
</tr>

                {% endfor %}
</tbody>
</table>
</div>
</div>

{% endblock %}
 
